


ARM Macro Assembler    Page 1 


    1 00000000         
    2 00000000                 INCLUDE          bsp_irq.inc
    1 00000000 00000000 
                       E_HARD_USART_IRQ_ID
                               EQU              0
    2 00000000 00000001 
                       E_HARDWARE_IRQ_MAX
                               EQU              1
    3 00000000 00000001 
                       E_CORE_SYSTICK_IRQ_ID
                               EQU              1
    4 00000000 00000002 
                       E_CORE_SYSCALL_IRQ_ID
                               EQU              2
    5 00000000 00000003 
                       E_SYSTEM_IRQ_MAX
                               EQU              3
    6 00000000                 END
    3 00000000                 INCLUDE          saveirq.inc
    1 00000000                 IF               :DEF:DEBUG_IRQ_MONITOR
   14 00000000                 MACRO
   15 00000000         $label  M_SAVE_IRQ       $ID
   16 00000000                 MEND
   17 00000000                 ENDIF                        ;DEBUG_IRQ_MONITOR
   18 00000000                 END
    4 00000000         
    5 00000000                 EXPORT           SysTick_Handler
    6 00000000         
    7 00000000                 IMPORT           CORE_EnterIRQ
    8 00000000                 IMPORT           CORE_LeaveIRQ
    9 00000000                 IMPORT           CORE_TickHandler
   10 00000000                 IMPORT           CORE_Scheduler
   11 00000000                 IMPORT           EXTI_Disable
   12 00000000         
   13 00000000                 PRESERVE8
   14 00000000         
   15 00000000                 AREA             |.text|, CODE, READONLY
   16 00000000                 ALIGN            4
   17 00000000                 THUMB
   18 00000000         
   19 00000000         SysTick_Handler
                               PROC
   20 00000000 B672            CPSID            I
   21 00000002 B500            PUSH             {LR}
   22 00000004 E92D 0FF0       PUSH             {R4-R11}
   23 00000008         
   24 00000008                 M_SAVE_IRQ       #E_CORE_SYSTICK_IRQ_ID
   25 00000008 F7FF FFFE       BL               CORE_TickHandler
   26 0000000C 4668            MOV              R0,    R13  ; 堆栈指针作为入参
   27 0000000E F7FF FFFE       BL               CORE_EnterIRQ ; 保存堆栈指针
   28 00000012 4685            MOV              R13,   R0   ; 使用内核堆栈
   29 00000014 B662            CPSIE            I
   30 00000016         
   31 00000016 F7FF FFFE       BL               CORE_Scheduler 
                                                            ; 进入中断处理程序
   32 0000001A         
   33 0000001A B672            CPSID            I
   34 0000001C 4668            MOV              R0,    R13  ; 堆栈指针作为入参
   35 0000001E F7FF FFFE       BL               CORE_LeaveIRQ 



ARM Macro Assembler    Page 2 


                                                            ; 加载新的堆栈指针
   36 00000022 4685            MOV              R13,   R0
   37 00000024 E8BD 0FF0       POP              {R4-R11}
   38 00000028 B662            CPSIE            I
   39 0000002A BD00            POP              {PC}
   40 0000002C                 ENDP
   41 0000002C         
   42 0000002C         ALIGN
   43 0000002C                 END
Command Line: --debug --xref --cpu=Cortex-M3 --apcs=interwork --depend=..\..\Ob
ject\stm32-alientek\systick_entry.d -o..\..\Object\stm32-alientek\systick_entry
.o -I..\..\Source\Platform\hal\cortex-m3 -I..\..\Source\Platform\bsp\stm32\huge
 -IC:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\Inc\ST\STM32F
10x --list=.\systick_entry.lst ..\..\Source\Platform\hal\stm32\arm\systick_entr
y.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 15 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
   Uses
      None
Comment: .text unused
ALIGN 0000002C

Symbol: ALIGN
   Definitions
      At line 42 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
   Uses
      None
Comment: ALIGN unused
SysTick_Handler 00000000

Symbol: SysTick_Handler
   Definitions
      At line 19 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
   Uses
      At line 5 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
Comment: SysTick_Handler used once
3 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

E_CORE_SYSCALL_IRQ_ID 00000002

Symbol: E_CORE_SYSCALL_IRQ_ID
   Definitions
      At line 4 in file ..\..\Source\Platform\bsp\stm32\huge\bsp_irq.inc
   Uses
      None
Comment: E_CORE_SYSCALL_IRQ_ID unused
E_CORE_SYSTICK_IRQ_ID 00000001

Symbol: E_CORE_SYSTICK_IRQ_ID
   Definitions
      At line 3 in file ..\..\Source\Platform\bsp\stm32\huge\bsp_irq.inc
   Uses
      None
Comment: E_CORE_SYSTICK_IRQ_ID unused
E_HARDWARE_IRQ_MAX 00000001

Symbol: E_HARDWARE_IRQ_MAX
   Definitions
      At line 2 in file ..\..\Source\Platform\bsp\stm32\huge\bsp_irq.inc
   Uses
      None
Comment: E_HARDWARE_IRQ_MAX unused
E_HARD_USART_IRQ_ID 00000000

Symbol: E_HARD_USART_IRQ_ID
   Definitions
      At line 1 in file ..\..\Source\Platform\bsp\stm32\huge\bsp_irq.inc
   Uses
      None
Comment: E_HARD_USART_IRQ_ID unused
E_SYSTEM_IRQ_MAX 00000003

Symbol: E_SYSTEM_IRQ_MAX
   Definitions
      At line 5 in file ..\..\Source\Platform\bsp\stm32\huge\bsp_irq.inc
   Uses
      None
Comment: E_SYSTEM_IRQ_MAX unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

CORE_EnterIRQ 00000000

Symbol: CORE_EnterIRQ
   Definitions
      At line 7 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
   Uses
      At line 27 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
Comment: CORE_EnterIRQ used once
CORE_LeaveIRQ 00000000

Symbol: CORE_LeaveIRQ
   Definitions
      At line 8 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
   Uses
      At line 35 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
Comment: CORE_LeaveIRQ used once
CORE_Scheduler 00000000

Symbol: CORE_Scheduler
   Definitions
      At line 10 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
   Uses
      At line 31 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
Comment: CORE_Scheduler used once
CORE_TickHandler 00000000

Symbol: CORE_TickHandler
   Definitions
      At line 9 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
   Uses
      At line 25 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
Comment: CORE_TickHandler used once
EXTI_Disable 00000000

Symbol: EXTI_Disable
   Definitions
      At line 11 in file ..\..\Source\Platform\hal\stm32\arm\systick_entry.s
   Uses
      None
Comment: EXTI_Disable unused
5 symbols
345 symbols in table
