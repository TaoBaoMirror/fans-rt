


ARM Macro Assembler    Page 1 


    1 00000000                 EXPORT           UsageFault_Handler
    2 00000000                 EXPORT           BusFault_Handler
    3 00000000                 EXPORT           MemManage_Handler
    4 00000000                 EXPORT           HardFault_Handler
    5 00000000         
    6 00000000                 IMPORT           CORE_EnterIRQ
    7 00000000                 IMPORT           CORE_LeaveIRQ
    8 00000000                 IMPORT           STM32_FaultHandler
    9 00000000         
   10 00000000                 PRESERVE8
   11 00000000         
   12 00000000                 AREA             |.text|, CODE, READONLY
   13 00000000                 ALIGN            4
   14 00000000                 THUMB
   15 00000000         
   16 00000000         Fault_Handler
                               PROC
   17 00000000 B672            CPSID            I
   18 00000002 B500            PUSH             {LR}
   19 00000004 E92D 0FF0       PUSH             {R4-R11}
   20 00000008 4668            MOV              R0,     R13 ; 堆栈指针作为入参
   21 0000000A 4604            MOV              R4,     R0
   22 0000000C 460D            MOV              R5,     R1
   23 0000000E F7FF FFFE       BL               CORE_EnterIRQ ; 保存堆栈指针
   24 00000012 4685            MOV              R13,    R0  ; 使用内核堆栈
   25 00000014 B662            CPSIE            I
   26 00000016         
   27 00000016 4629            MOV              R1,     R5
   28 00000018 4620            MOV              R0,     R4
   29 0000001A F7FF FFFE       BL               STM32_FaultHandler 
                                                            ; 进入中断处理程序
   30 0000001E         
   31 0000001E B672            CPSID            I
   32 00000020 4668            MOV              R0,     R13 ; 堆栈指针作为入参
   33 00000022 F7FF FFFE       BL               CORE_LeaveIRQ 
                                                            ; 加载新的堆栈指针
   34 00000026 4685            MOV              R13,    R0
   35 00000028 E8BD 0FF0       POP              {R4-R11}
   36 0000002C B662            CPSIE            I
   37 0000002E BD00            POP              {PC}
   38 00000030                 ENDP
   39 00000030         
   40 00000030         HardFault_Handler
                               PROC
   41 00000030 F04F 0100       MOV              R1,     #0
   42 00000034 E7FE            B                Fault_Handler
   43 00000036                 ENDP
   44 00000036         
   45 00000036         MemManage_Handler
                               PROC
   46 00000036 F04F 0101       MOV              R1,     #1
   47 0000003A E7FE            B                Fault_Handler
   48 0000003C                 ENDP
   49 0000003C         BusFault_Handler
                               PROC
   50 0000003C F04F 0102       MOV              R1,     #2
   51 00000040 E7FE            B                Fault_Handler
   52 00000042                 ENDP
   53 00000042         UsageFault_Handler



ARM Macro Assembler    Page 2 


                               PROC
   54 00000042 F04F 0103       MOV              R1,     #3
   55 00000046 E7FE            B                Fault_Handler
   56 00000048                 ENDP
   57 00000048         
   58 00000048         ALIGN
   59 00000048                 END
Command Line: --debug --xref --cpu=Cortex-M3 --apcs=interwork --depend=..\..\Ob
ject\stm32-alientek\fault_entry.d -o..\..\Object\stm32-alientek\fault_entry.o -
I..\..\Source\Platform\hal\cortex-m3 -I..\..\Source\Platform\bsp\stm32\huge -IC
:\Keil\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\Inc\ST\STM32F10x 
--list=.\fault_entry.lst ..\..\Source\Platform\hal\stm32\arm\fault_entry.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 12 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      None
Comment: .text unused
ALIGN 00000048

Symbol: ALIGN
   Definitions
      At line 58 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      None
Comment: ALIGN unused
BusFault_Handler 0000003C

Symbol: BusFault_Handler
   Definitions
      At line 49 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      At line 2 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
Comment: BusFault_Handler used once
Fault_Handler 00000000

Symbol: Fault_Handler
   Definitions
      At line 16 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      At line 42 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
      At line 47 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
      At line 51 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
      At line 55 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s

HardFault_Handler 00000030

Symbol: HardFault_Handler
   Definitions
      At line 40 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      At line 4 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
Comment: HardFault_Handler used once
MemManage_Handler 00000036

Symbol: MemManage_Handler
   Definitions
      At line 45 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      At line 3 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
Comment: MemManage_Handler used once
UsageFault_Handler 00000042

Symbol: UsageFault_Handler
   Definitions
      At line 53 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      At line 1 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
Comment: UsageFault_Handler used once



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

7 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

CORE_EnterIRQ 00000000

Symbol: CORE_EnterIRQ
   Definitions
      At line 6 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      At line 23 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
Comment: CORE_EnterIRQ used once
CORE_LeaveIRQ 00000000

Symbol: CORE_LeaveIRQ
   Definitions
      At line 7 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      At line 33 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
Comment: CORE_LeaveIRQ used once
STM32_FaultHandler 00000000

Symbol: STM32_FaultHandler
   Definitions
      At line 8 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
   Uses
      At line 29 in file ..\..\Source\Platform\hal\stm32\arm\fault_entry.s
Comment: STM32_FaultHandler used once
3 symbols
340 symbols in table
