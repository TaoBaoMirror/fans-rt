


ARM Macro Assembler    Page 1 


    1 00000000         ;文 件 名： libstm32.s
    2 00000000         ;说    明： 提供平台支撑
    3 00000000         ;=======================================================
                       ==========
    4 00000000                 EXPORT           CORE_SystemHang
    5 00000000                 EXPORT           CORE_IdleEntry
    6 00000000                 EXPORT           CORE_RestoreIRQ
    7 00000000                 EXPORT           CORE_DisableIRQ
    8 00000000                 EXPORT           CORE_EnableIRQ
    9 00000000                 EXPORT           CORE_SaveIRQFlags
   10 00000000         
   11 00000000                 PRESERVE8
   12 00000000         
   13 00000000                 AREA             |.text|, CODE, READONLY
   14 00000000                 ALIGN            4
   15 00000000                 THUMB
   16 00000000         
   17 00000000         CORE_SystemHang
                               PROC
   18 00000000 E7FE            B                .
   19 00000002                 ENDP
   20 00000002         ;=======================================================
                       ==========================
   21 00000002         ;函数名：DWORD CORE_SaveIRQFlags(VOID)
   22 00000002         ;说  明：返回中断标志寄存器值
   23 00000002         ;参  数NNONE
   24 00000002         ;返回值：DWORD 标志寄存器值
   25 00000002         ;备  注：无
   26 00000002         ;=======================================================
                       ==========================
   27 00000002         CORE_SaveIRQFlags
                               PROC
   28 00000002 F3EF 8010       MRS              R0,    PRIMASK
   29 00000006 4770            BX               LR
   30 00000008                 ENDP
   31 00000008         ;=======================================================
                       ==========================
   32 00000008         ;函数名：DWORD CORE_DisableIRQ(VOID)
   33 00000008         ;说  明：返回中断标志寄存器值，并关闭中断
   34 00000008         ;参  数NNONE
   35 00000008         ;返回值：DWORD 标志寄存器值
   36 00000008         ;备  注：无
   37 00000008         ;=======================================================
                       ==========================
   38 00000008         CORE_DisableIRQ
                               PROC
   39 00000008 F3EF 8010       MRS              R0,    PRIMASK
   40 0000000C B672            CPSID            I
   41 0000000E 4770            BX               LR
   42 00000010                 ENDP
   43 00000010         
   44 00000010         ;=======================================================
                       ==========================
   45 00000010         ;函数名：VOID CORE_RestoreIRQ(DWORD dwFlags);
   46 00000010         ;说  明：恢复标志寄存器(解锁IRQ)
   47 00000010         ;参  数：DWORD dwFlags                新的标志寄存器值
   48 00000010         ;返回值：无
   49 00000010         ;备  注：无
   50 00000010         ;=======================================================



ARM Macro Assembler    Page 2 


                       ==========================
   51 00000010         CORE_RestoreIRQ
                               PROC
   52 00000010 F380 8810       MSR              PRIMASK, R0
   53 00000014 4770            BX               LR
   54 00000016                 ENDP
   55 00000016         
   56 00000016         CORE_EnableIRQ
                               PROC
   57 00000016 F04F 0000       MOV              R0,     #0
   58 0000001A F380 8810       MSR              PRIMASK, R0
   59 0000001E 4770            BX               LR
   60 00000020                 ENDP
   61 00000020         
   62 00000020         CORE_IdleEntry
                               PROC
   63 00000020 BF30            WFI
   64 00000022 4770            BX               LR
   65 00000024                 ENDP
   66 00000024         ALIGN
   67 00000024                 END
Command Line: --debug --xref --cpu=Cortex-M3 --apcs=interwork --depend=..\..\Ob
ject\stm32-alientek\stm32misc.d -o..\..\Object\stm32-alientek\stm32misc.o -I..\
..\Source\Platform\hal\cortex-m3 -I..\..\Source\Platform\bsp\stm32\huge -IC:\Ke
il\ARM\RV31\INC -IC:\Keil\ARM\CMSIS\Include -IC:\Keil\ARM\Inc\ST\STM32F10x --li
st=.\stm32misc.lst ..\..\Source\Platform\hal\stm32\arm\stm32misc.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 13 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
   Uses
      None
Comment: .text unused
ALIGN 00000024

Symbol: ALIGN
   Definitions
      At line 66 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
   Uses
      None
Comment: ALIGN unused
CORE_DisableIRQ 00000008

Symbol: CORE_DisableIRQ
   Definitions
      At line 38 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
   Uses
      At line 7 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
Comment: CORE_DisableIRQ used once
CORE_EnableIRQ 00000016

Symbol: CORE_EnableIRQ
   Definitions
      At line 56 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
   Uses
      At line 8 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
Comment: CORE_EnableIRQ used once
CORE_IdleEntry 00000020

Symbol: CORE_IdleEntry
   Definitions
      At line 62 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
   Uses
      At line 5 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
Comment: CORE_IdleEntry used once
CORE_RestoreIRQ 00000010

Symbol: CORE_RestoreIRQ
   Definitions
      At line 51 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
   Uses
      At line 6 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
Comment: CORE_RestoreIRQ used once
CORE_SaveIRQFlags 00000002

Symbol: CORE_SaveIRQFlags
   Definitions
      At line 27 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
   Uses
      At line 9 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
Comment: CORE_SaveIRQFlags used once
CORE_SystemHang 00000000

Symbol: CORE_SystemHang



ARM Macro Assembler    Page 2 Alphabetic symbol ordering
Relocatable symbols

   Definitions
      At line 17 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
   Uses
      At line 4 in file ..\..\Source\Platform\hal\stm32\arm\stm32misc.s
Comment: CORE_SystemHang used once
8 symbols
338 symbols in table
